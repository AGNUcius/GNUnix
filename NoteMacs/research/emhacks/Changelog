2008-02-24  David Ponce  <david@dponce.com>

	* tree-widget.el: Relicense to GPLv3 or later. Copyright update.

2008-02-23  Glenn Morris  <rgm@gnu.org>

	* tree-widget.el (tree-widget-lookup-image): Let-bind `file'.

2007-09-19  Stefan Monnier  <monnier@iro.umontreal.ca>

	* recentf.el: Remove spurious * in docstrings.
	(recentf-save-list): Fix up comment style.

2007-07-17  Michael Albinus  <michael.albinus@gmx.de>

	* recentf.el (recentf-keep-default-predicate): Adapt call of
	`file-remote-p'.

2007-07-15  Michael Albinus  <michael.albinus@gmx.de>

	* recentf.el (recentf-keep-default-predicate): New defun.
	(recentf-keep): Use it as initial value.

2007-03-28  Stephen Berman  <Stephen.Berman@gmx.net>

	* recentf.el

	(recentf-save-file): Add a custom :set function.

2006-10-18  Richard Stallman  <rms@gnu.org>

	* recentf.el (recentf-mode): Doc fix.

2006-06-08  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-buffer-update-groups): Fix tab set not updated, when
	buffer is moved to another group.

2006-05-29  David Ponce  <david@dponce.com>

	* tree-widget.el

	Update Commentary header.
	(tree-widget-old-guides-convert): For compatibility, get guide
	item widgets from the parent tree-widget.
	(tree-widget-default-guides*): Rename to tree-widget-new-guides*.
	(tree-widget): For compatibility, use `tree-widget-old-guides' as
	the default :guide value.
	(tree-widget-value-create): Make the :parent tree accessible by
	the :convert-widget function of the :guides widget.

	* tree-widget-examples.el

	(tree-widget-example-4-old-guides): Remove.
	(tree-widget-example-4-old-tree): To check compatibility, setup
	here the :guide, :end-guide, :no-guide, :handle, :no-handle, and
	:guides properties.

2006-05-17  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-edit-list-confirm-flag)
	(recentf-dialog-committer): New variable.
	(recentf-commit-dialog): New command.
	(recentf-dialog-mode-map): Bind it to `x'.
	(recentf-edit-list-validate): Ask for confirmation.
	(recentf-edit-list): Use it as `recentf-dialog-committer'.
	Call `recentf-dialog-committer' on OK button.

	* tree-widget.el 

	Update Commentary header.
	(tree-widget-version): Update to 4.
	(tree-widget--locate-sub-directory): Doc fix.
	(tree-widget--cursors): Remove.  Replace by
	(tree-widget-pointer-shape): New variable.
	(tree-widget-image-properties): Use it.

	(tree-widget-before-create-icon-functions)
	(tree-widget-icon-create, tree-widget-leaf-node-icon-p)
	(tree-widget-icon-action, tree-widget-icon-help-echo): Move to
	group code related to icon widgets.

	(tree-widget-guides, tree-widget-old-guides)
	(tree-widget-default-guides, tree-widget-guide-item)
	(tree-widget-mid-guide, tree-widget-last-node-guide)
	(tree-widget-node-guide, tree-widget-skip-guide): New widgets.
	
	(tree-widget-old-guides-convert)
	(tree-widget-old-guides-create)
	(tree-widget-default-guides-convert)
	(tree-widget-default-guides-create)
	(tree-widget-guide-item-convert): New functions.
	
	(tree-widget-guide, tree-widget-end-guide)
	(tree-widget-no-guide, tree-widget-handle)
	(tree-widget-no-handle): Derive from `tree-widget-guide-item'.
	
	(tree-widget): Add :guides property.  Remove the :guide,
	:end-guide, :no-guide, :handle, and :no-handle ones.
	(tree-widget-value-create): Update accordingly.

	* tree-widget-examples.el

	(tree-widget-example-4-old-guides)
	(tree-widget-example-4-old-tree)
	(tree-widget-example-4-mid-guide)
	(tree-widget-example-4-skip-guide)
	(tree-widget-example-4-node-guide)
	(tree-widget-example-4-last-node-guide)
	(tree-widget-example-4-guides): New widgets.
	(tree-widget-example-4-tree): Use `tree-widget-example-4-guides'.
	(tree-widget-example-4): Use `tree-widget-example-4-tree' or
	`tree-widget-example-4-old-tree' depending on argument.

	* tree-widget/default/guides.xcf
	* tree-widget/default/nodes.xcf
	* tree-widget/default/old-guides.xcf
	* tree-widget/default/old-handles.xcf

	New file.
	
	* tree-widget/default/last-node-guide.png
	* tree-widget/default/last-node-guide.xpm
	* tree-widget/default/mid-guide.png
	* tree-widget/default/mid-guide.xpm
	* tree-widget/default/node-guide.png
	* tree-widget/default/node-guide.xpm
	* tree-widget/default/skip-guide.png
	* tree-widget/default/skip-guide.xpm

	New images created from default/guides.xcf.

	* tree-widget/folder/guides.xcf
	* tree-widget/folder/nodes.xcf
	* tree-widget/folder/old-guides.xcf
	* tree-widget/folder/old-handles.xcf

	New files.

	* tree-widget/folder/last-node-guide.png
	* tree-widget/folder/last-node-guide.xpm
	* tree-widget/folder/mid-guide.png
	* tree-widget/folder/mid-guide.xpm
	* tree-widget/folder/node-guide.png
	* tree-widget/folder/node-guide.xpm
	* tree-widget/folder/skip-guide.png
	* tree-widget/folder/skip-guide.xpm

	New images created from folder/guides.xcf.

	* tree-widget/default/close.png
	* tree-widget/default/close.xpm
	* tree-widget/default/empty.png
	* tree-widget/default/empty.xpm
	* tree-widget/default/leaf.png
	* tree-widget/default/leaf.xpm
	* tree-widget/default/open.png
	* tree-widget/default/open.xpm

	Recreate from default/nodes.xcf.

	* tree-widget/default/end-guide.png
	* tree-widget/default/end-guide.xpm
	* tree-widget/default/guide.png
	* tree-widget/default/guide.xpm
	* tree-widget/default/no-guide.png
	* tree-widget/default/no-guide.xpm

	Recreate from default/old-guides.xcf.

	* tree-widget/default/handle.png
	* tree-widget/default/handle.xpm
	* tree-widget/default/no-handle.png
	* tree-widget/default/no-handle.xpm

	Recreate from default/old-handles.xcf.
	
	* tree-widget/folder/close.png
	* tree-widget/folder/close.xpm
	* tree-widget/folder/empty.png
	* tree-widget/folder/empty.xpm
	* tree-widget/folder/leaf.png
	* tree-widget/folder/leaf.xpm
	* tree-widget/folder/open.png
	* tree-widget/folder/open.xpm

	Recreate from folder/nodes.xcf.

	* tree-widget/folder/end-guide.png
	* tree-widget/folder/end-guide.xpm
	* tree-widget/folder/guide.png
	* tree-widget/folder/guide.xpm
	* tree-widget/folder/no-guide.png
	* tree-widget/folder/no-guide.xpm

	Recreate from folder/old-guides.xcf.

	* tree-widget/folder/handle.png
	* tree-widget/folder/handle.xpm
	* tree-widget/folder/no-handle.png
	* tree-widget/folder/no-handle.xpm

	Recreate from folder/old-handles.xcf.

2006-04-05  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-coding-system-p): New function.
	(recentf-save-file-coding-system): Use it.

2006-04-03  Lennart Borgman  <lennart.borgman.073@student.lu.se>  (tiny change)

	* recentf.el

	(recentf-open-files-item): Include newline in button field, so
	opening a file will work, when the point is at the end of the file
	name.  Allow, for example, to [i]search a file by extension and
	just push RET to open it.

2006-03-14  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-themes-load-path, tree-widget-themes-directory)
	(tree-widget-theme): Doc fix.

2006-03-07  David Ponce  <david@dponce.com>

	* tree-widget.el

	Handle themes across all occurrences of the main themes
	sub-directory found in tree-widget-themes-load-path.
	(tree-widget-themes-directory, tree-widget-theme): Doc fix.
	(tree-widget--locate-sub-directory): Return all occurrences.
	(tree-widget-themes-path): New function.  Replace
	tree-widget-themes-directory, and return a list of directories.
	(tree-widget-set-parent-theme)
	(tree-widget-lookup-image): Use it.

2006-03-06  David Ponce  <david@dponce.com>

	* tree-widget.el

	Update copyright and Commentary header.
	(tree-widget-version): Update to 3.1.
	(tree-widget-theme-name): Ignore parent themes.
	(tree-widget-set-parent-theme): New function.
	(tree-widget-set-theme): Use it.
	(tree-widget-set-image-properties): Move definition.  Does nothing
	if image properties have already been set.
	(tree-widget-image-properties): Move definition.  Receive an image
	name.  Set the :pointer property.
	(tree-widget-lookup-image): Doc fix.  Search in parent themes.
	Don't set the :pointer image property.
	(tree-widget-convert-widget): New function.  Handle :dynargs
	compatibility here.
	(tree-widget): Use it to :convert-widget.  Add the :expander-p
	predicate to control when the :expander function is entered.
	Thanks to Ken Manheimer <ken.manheimer@gmail.com> for the idea.
	(tree-widget-value-create): Handle :expander-p.  widget-apply
	:expander.
	(tree-widget-expander-p): New function.  Default value of the
	:expander-p property.

2005-12-15  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-dialog-goto-first): Fix missing error condition.
	(recentf-edit-list, recentf-open-files): Signal an error when
	there is no recent file.

2005-12-14  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-line-format): Prevent deactivation of the mark after the
	commands that modify the temp buffer.

2005-12-08  David Ponce  <david@dponce.com>

	* recentf.el

	Improvement of the menu code.
	
	(recentf-enabled-p): Move before first use.  Use `kill-emacs-hook'
	instead of menu hook.
	(recentf-show-menu, recentf-hide-menu): New functions.
	(recentf-menu-customization-changed, recentf-mode): Use them.
	(recentf-menu-action, recentf-max-menu-items)
	(recentf-menu-open-all-flag, recentf-menu-append-commands-flag)
	(recentf-arrange-by-rule-others)
	(recentf-arrange-by-rules-min-items)
	(recentf-arrange-by-rule-subfilter) : Don't use
	`recentf-menu-customization-changed'.
	(recentf-arrange-rules): Likewise.  Accept functions to compute
	sub-menu titles.
	(recentf-menu-filter): Likewise.  Doc fix.
	(recentf-menu-value-shortcut): Doc fix.
	(recentf-dump-variable): Quote atom value.
	(recentf-make-menu-items): Update to use it as a menu filter.
	(recentf-match-rule): New function.
	(recentf-arrange-by-rule): Use it.
	(recentf-indirect-mode-rule): New function.
	(recentf-build-mode-rules): Use it.
	(recentf-dir-rule): New function.
	(recentf-arrange-by-dir): Use it.
	(recentf-filter-changer-current): Rename from
	`recentf-filter-changer-state'.  All references updated.
	(recentf-filter-changer-alist): Update filter names.
	(recentf-filter-changer-select): New function.
	(recentf-filter-changer): Use it.  Make a sub-menu from filters
	available in `recentf-filter-changer-alist'.

	(recentf-data-cache, recentf-clear-data)
	(recentf-update-menu): Remove.  All references updated.
	(recentf-create-menu)
	(recentf-menu-hook, recentf-update-menu)
	(recentf-match-rule-p, recentf-build-dir-rules)
	(recentf-filter-changer-goto-next)
	(recentf-filter-changer-get-current)
	(recentf-filter-changer-get-next): Remove.

2005-11-24  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-arrange-by-rule): Handle a special `auto-mode-alist'-like
	"strip suffix" rule.
	(recentf-build-mode-rules): Handle second level auto-mode entries.

2005-11-06  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-delete-tab): Fix last change.

2005-11-04  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-delete-tab): Fix new tab selection after the selected tab
	has been deleted.

2005-10-18  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-button-click): New function.
	(tree-widget-button-keymap): Use it.

2005-10-17  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-buffer-update-groups): Refresh the tab bar when a buffer
	is renamed.

2005-10-14  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-track-opened-file, recentf-track-closed-file)
	(recentf-update-menu, recentf-menu-hook, recentf-used-hooks)
	(recentf-enabled-p): Move before dialog stuff.

2005-10-06  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-menu-open-all-flag): New option.
	(recentf-digit-shortcut-command-name): New function.
	(recentf--shortcuts-keymap): New variable.
	(recentf-menu-shortcuts): New variable.
	(recentf-make-menu-items): Initialize it.  Replace the "More..."
	menu item by "All...", if `recentf-menu-open-all-flag' is non-nil.
	(recentf-menu-value-shortcut): New function.
	(recentf-make-menu-item): Use it.  No more in-lined.
	(recentf-dialog-mode-map): Base on `recentf--shortcuts-keymap'.
	(recentf-open-most-recent-file): Rename from
	`recentf-open-file-with-key'.  Don't depend on key binding.
	(recentf-mode-map): New variable.
	(recentf-mode): Register as minor mode with above keymap.

2005-09-29  David Ponce  <david@dponce.com>

	* recentf.el
	
	(recentf-abbreviate-file-name): New function.
	(recentf-filename-handlers): Rename from
	`recentf-filename-handler'.  Allow a list of functions.
	(recentf-menu-items-for-commands): Fix :help strings.
	(recentf-apply-filename-handlers): New function.
	(recentf-expand-file-name): Use it.
	(recentf-cleanup): Remove duplicates too.

2005-09-26  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget--locate-sub-directory): Simplified.
	(tree-widget--themes-load-path): Remove.
	(tree-widget-themes-directory): Update accordingly.

2005-09-23  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-image-formats) [Emacs]: Doc fix.
	(tree-widget-themes-load-path): New variable.
	(tree-widget-themes-directory): Doc fix.
	(tree-widget--locate-sub-directory)
	(tree-widget--themes-load-path): New functions.
	(tree-widget-themes-directory): Use them.
	(tree-widget-value-create): Fix previous change.

2005-09-19  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-value-create): Save the converted tree :node widget.

2005-09-14  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-save-file-modes): New option.
	(recentf-save-list): Use it.

2005-09-09  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-filename-handler): Add custom choice
	`abbreviate-file-name'.

2005-09-08  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-show-file-shortcuts-flag): New option.
	(recentf-expand-file-name): Doc fix.
	(recentf-dialog-mode-map): Define digit shortcuts.
	(recentf--files-with-key): New variable.
	(recentf-show-digit-shortcut-filter): New function.
	(recentf-open-files-items): New function.
	(recentf-open-files): Use it.
	(recentf-open-file-with-key): New command.

2005-08-12  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-leaf-node-icon-p): New function.
	(tree-widget-icon-action, tree-widget-icon-help-echo): Use it.

2005-08-11  David Ponce  <david@dponce.com>

	* tree-widget.el

	Update Commentary header.
	(tree-widget-theme, tree-widget-space-width): Doc fix.
	(tree-widget-leaf-icon, tree-widget-handle): Improve default look
	and feel of the text representation.
	(tree-widget--insert-space): Remove.
	(tree-widget-value-create): Don't call it.
	(tree-widget-icon-create): Insert space after icon.  Ensure that
	:tag value is at least one char to display the image.

2005-08-10  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-version): Update to 3.0.
	(tree-widget--cursors): Only for images with arrow pointer shape.
	(tree-widget-lookup-image): Pointer shape is hand by default.
	(tree-widget-icon): Generic icon widget renamed from
	`tree-widget-control'.
	(tree-widget-*-icon): Rename from `tree-widget-*-control' and
	derive from `tree-widget-icon'.
	(tree-widget): Rename :*-control properties to :*-icon properties.
	Add :action and :help-echo properties.
	(tree-widget-after-toggle-functions): Move.
	(tree-widget-close-node, tree-widget-open-node): Remove.
	(tree-widget--insert-space): Doc fix.
	(tree-widget-before-create-icon-functions): New variable.
	(tree-widget-icon-create): New function.
	(tree-widget-value-create): Allow customization of icons and nodes
	at run-time via `tree-widget-before-create-icon-functions'.
	(tree-widget-icon-action, tree-widget-icon-help-echo)
	(tree-widget-action, tree-widget-help-echo): New functions.

	* tree-widget-examples.el

	(tree-widget-example-4-*-icon): Rename from
	`tree-widget-example-4-*-control' and derive from
	`tree-widget-*-icon'.
	(tree-widget-example-4-tree): Rename :*-control properties to
	 :*-icon properties.

2005-08-04  David Ponce  <david@dponce.com>

	* tree-widget-examples.el

	(tree-widget-example-4-open-control)
	(tree-widget-example-4-close-control)
	(tree-widget-example-4-empty-control)
	(tree-widget-example-4-leaf-control): Remove trailing space from
	:tag.

2005-07-28  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-max-saved-items, recentf-menu-filter)
	(recentf-arrange-by-rule-subfilter): Doc fixes.
	(recentf-menu-append-commands-flag)
	(recentf-initialize-file-name-history, recentf-expand-file-name)
	(recentf-clear-data): Fix typos in doc strings.

2005-07-18  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-space-width): New option.
	(tree-widget-image-properties): Look up in the default theme too.
	(tree-widget-open-control, tree-widget-empty-control)
	(tree-widget-close-control): Remove trailing space from :tag.
	(tree-widget--insert-space): New function.
	(tree-widget-value-create): Use it.

2005-07-09  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-disable-image): Return a new copy of image.
	(tabbar-button-label): Update accordingly.

2005-07-05  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget) [defgroup]: Add :version.

	* tree-widget-examples.el

	Fix provided feature.
	(tree-widget-example-dialog): Move cursor on first button.
	(tree-widget-example-4*): New example.

2005-07-04  David Ponce  <david@dponce.com>

	* tree-widget.el

	Header Commentary fix.
	(tree-widget-themes-directory, tree-widget-empty-control)
	(tree-widget-after-toggle-functions)
	(tree-widget-close-node, tree-widget-open-node): Doc fix.
	(tree-widget-open-control, tree-widget-close-control): Doc and
	:help-echo fix.
	(tree-widget-value-create): Use :expander property instead of
	:defer.

	* dir-tree.el

	(cl): Require at compilation time.
	(dir-tree-overlay-lists, dir-tree-delete-overlay)
	(dir-tree-toggle-selection, dir-tree-list): Simplify.
	(dir-tree-dir-widget): Remove :has-children.
	(dir-tree-file-widget): Add :help-echo, :keymap, and
	:button-keymap.
	(dir-tree-widget): Likewise in :node push-button.
	(dir-tree-refresh-dir): Doc fix.
	(dir-tree-expand-dir): Doc and messages fix.
	(dir-tree-close): New function.
	(dir-tree): Doc fix.  Add a close button.  Code cleanup.

	* tree-widget-examples.el

	(tree-widget-examples-version): Update to 1.3.
	(tree-widget-example-overlay-lists)
	(tree-widget-example-delete-overlay): Simplify.
	(tree-widget-example-2*): Rename from tree-widget-example-11*.
	(tree-widget-example-3*): Rename from tree-widget-example-2*.
	(tree-widget-example-2-track-open-state): Rename from
	tree-widget-example-11-after-toggle-fcn.  Update caller.
	(tree-widget-example-dialog): New macro.
	(tree-widget-example-1, tree-widget-example-2)
	(tree-widget-example-3): Use it.

2005-07-01  David Ponce  <david@dponce.com>

	* tree-widget.el

	Improve header Commentary section.
	(tree-widget-version): Update to 2.3.
	(tree-widget) [defgroup]
	(tree-widget-image-enable)
	(tree-widget-themes-directory, tree-widget-theme)
	(tree-widget-image-properties-emacs)
	(tree-widget-image-properties-xemacs)
	(tree-widget-create-image, tree-widget-image-formats)
	(tree-widget-control, tree-widget-open-control)
	(tree-widget-empty-control, tree-widget-close-control)
	(tree-widget-leaf-control, tree-widget-guide)
	(tree-widget-end-guide, tree-widget-no-guide, tree-widget-handle)
	(tree-widget-no-handle, tree-widget-p, tree-widget-keep)
	(tree-widget-after-toggle-functions)
	(tree-widget-open-node, tree-widget-close-node): Doc fix.
	(tree-widget-set-theme): Doc fix.  Use `string-equal'.
	(tree-widget-image-properties): Doc fix.  Clearer implementation.
	(tree-widget--cursors): New constant.
	(tree-widget-lookup-image): New function split from
	`tree-widget-find-image'.  Clearer implementation.
	(tree-widget-find-image): Use it.
	(tree-widget-button-keymap): Use `set-keymap-parent'.
	(tree-widget) [define-widget]: Use `widget-children-value-delete'.
	Define the sub-widgets here.
	(tree-widget-node): Check that :node is not a tree-widget.
	(tree-widget-get-super, tree-widget-open-control)
	(tree-widget-close-control, tree-widget-empty-control)
	(tree-widget-leaf-control, tree-widget-guide)
	(tree-widget-end-guide, tree-widget-no-guide, tree-widget-handle)
	(tree-widget-no-handle, tree-widget-value-delete)
	(tree-widget-map): Remove.
	(tree-widget-children-value-save): Doc fix.  Simplified.
	(tree-widget-value-create): Update according to previous changes.
	
2005-06-29  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar--mwheel-up-event)
	(tabbar--mwheel-down-event): New variables.
	(tabbar--mwheel-up-p): Rename from `tabbar-mwheel-up-p'.  Move.
	(tabbar-mwheel-switch-tab, tabbar-mwheel-switch-group): Use it.
	(tabbar-mwheel-mode-map): Likewise.
	(tabbar-mode, tabbar-mwheel-mode): Add :require.
	(tabbar-buffer-update-groups): Fix last change.

2005-06-29  David Ponce  <david@dponce.com>

	* tabbar.el

	Major version.  A lot of code cleanup.  Separate buffer tabs
	implementation from core functions, so it can be moved into
	another library.
	
	(tabbar-version): Update to 2.0.
	(tabbar-auto-scroll-flag): Rename from
	`tabbar-selected-tab-always-visible'.  All references updated.
	(tabbar-init-hook): Move. Defvar it.
	(tabbar-inhibit-functions): Defvar it and initialize to nil.
	(tabbar-current-tabset-function, tabbar-tab-label-function)
	(tabbar-select-tab-function, tabbar-help-on-tab-function)
	(tabbar-button-label-function, tabbar-home-function)
	(tabbar-home-help-function): Likewise.
	(tabbar-scroll-left-function): Defvar it.
	(tabbar-scroll-left-help-function, tabbar-scroll-right-function)
	(tabbar-scroll-right-help-function, tabbar-buffer-list-function)
	(tabbar-buffer-groups-function): Likewise.
	(tabbar-quit-hook): New hook.
	(tabbar-init-tabsets-store): Use it.  Don't call
	`tabbar-free-tabsets-store'.
	(tabbar-free-tabsets-store): Move.  Don't set
	`tabbar-current-tabset'.
	(tabbar--track-selected): Rename from `tabbar-show-selected'.  All
	references updated.
	(tabbar-line-button): Take into account when
	`tabbar-button-label-function' is nil.
	(tabbar-truncated-p): Remove.
	(tabbar-line-format): Improve auto-scroll.
	(tabbar--global-hlf): Rename from `tabbar-old-global-hlf'.  All
	references updated.
	(tabbar--local-hlf): Rename from `tabbar-old-local-hlf'.  All
	references updated.  Move.
	(tabbar-local-mode): Move.
	(tabbar-mode): Don't setup `kill-buffer-hook'.
	(tabbar-buffer): New custom group.
	(tabbar-buffer-home-button): Move into it.
	(tabbar-buffer-update-groups): Take into account when
	`tabbar-buffer-list-function' or `tabbar-buffer-groups-function'
	are nil.
	(tabbar--buffer-show-groups): Rename from
	`tabbar-buffer-show-groups-flag'.  All references updated.
	(tabbar-buffer-tab-label): Use `tabbar-auto-scroll-flag' instead
	of an internal variable.
	(tabbar-buffer-track-killed): Rename from
	`tabbar-buffer-kill-buffer-hook'.  Move.
	(tabbar-buffer-init): Move.  Do all tabbar-buffer setup here.
	(tabbar-buffer-quit): New function.  Add to `tabbar-quit-hook'.

2005-06-28  David Ponce  <david@dponce.com>

	* tabbar.el:

	(tabbar-header-line-format)
	(tabbar-default-inhibit-function): Move.
	(tabbar-cycle): If navigation through groups is requested, and
	there is only one group, navigate through visible tabs.
	(tabbar-old-global-hlf, tabbar-mode-on-p)
	(tabbar-prefix-key, tabbar-mode-map)
	(tabbar-buffer-kill-buffer-hook): Doc fix.
	(tabbar-old-local-hlf, tabbar-local-mode): Move.  Doc fix.

	New Tabbar-Mwheel minor mode to use the mouse wheel to navigate
	through tabs or groups.
	
	(tabbar-mwheel-backward, tabbar-mwheel-forward)
	(tabbar-mwheel-backward-group, tabbar-mwheel-forward-group)
	(tabbar-mwheel-backward-tab, tabbar-mwheel-forward-tab)
	(tabbar-mwheel-switch-tab)
	(tabbar-mwheel-switch-group): New commands.
	(tabbar-mwheel-mode-map): New variable.
	(tabbar-mwheel-up-p, tabbar-mwheel-follow)
	(tabbar-mwheel-mode): New functions.
	
2005-06-27  David Ponce  <david@dponce.com>

	* tabbar.el:
	
	Improve header Commentary section.
	(tabbar-cycle-scope): Rename from `tabbar-cycling-scope'.  All
	references updated.
	(tabbar-selected-tab-always-visible)
	(tabbar-use-images, tabbar-buffer-list-function)
	(tabbar-buffer-groups-function): Doc fix.
	(tabbar--mouse): New function.
	(tabbar-press-home, tabbar-press-scroll-left)
	(tabbar-press-scroll-right): New commands.
	(tabbar-prefix-key, tabbar-prefix-map)
	(tabbar-mode-map): New variables.
	(tabbar-mode): Doc fix.  Use `tabbar-mode-map' keymap.
	(tabbar-buffer-update-groups): Doc fix.
	(tabbar-buffer-show-groups-flag): Rename from
	`tabbar-buffer-group-mode'.  No more buffer local.  All references
	updated.
	(tabbar-buffer-init): Initialize it.
	(tabbar-buffer-show-groups): Rename from
	`tabbar-buffer-set-group-mode'.  All references updated.
	(tabbar-load-hook): New hook run after tabbar has been loaded.
	
2005-06-26  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-filename-handler): Fix widget :type.

2005-06-25  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-dialog): Don't add cancel button nor go to bob.
	(recentf-dialog-goto-first): New function.
	(recentf-edit-list): Use it. Add cancel button.
	(recentf-open-files): Likewise.

2005-06-23  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-init-hook): New hook.
	(tabbar-init-tabsets-store): Use it.
	(tabbar-buffer-init): New function.

2005-06-22  David Ponce  <david@dponce.com>

	* recentf.el

	[XEmacs] Remove `after-init-hook' hack no more necessary since
	previous fix to `recentf-clear-data'.
	(recentf-button-keymap): Setup for use with XEmacs only.
	(recentf-dialog): Don't use `recentf-button-keymap' with Emacs.
	(recentf-edit-list, recentf-open-files-item): Likewise.

2005-06-21  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-last-selected-tab): Remove.
	(tabbar-free-tabsets-store, tabbar-current-tabset)
	(tabbar-click-on-tab): Update accordingly.
	(tabbar-empty-tabsets-store-p)
	(tabbar-buffer-update-tabsets): Remove.
	(tabbar-line, tabbar-buffer-update-groups)
	(tabbar-buffer-tabs): Simplify.

2005-06-17  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-open-files-item): Fix typo.  Change widget format.
	(recentf-open-files): Change widget format.

2005-06-16  David Ponce  <david@dponce.com>

	* recentf.el

	Try to require the tree-widget library.
	(recentf-overlay-lists, recentf-delete-overlay): Simplify.
	(recentf-clear-data): Rebuild the menu when running XEmacs.
	(recentf-cancel-dialog): Doc fix.
	(recentf-dialog-mode-map): Set parent keymap first.
	(recentf-dialog-mode): Don't display continuation lines in
	dialogs.
	(recentf-dialog): New macro.
	(recentf-edit-list): Rename from recentf-edit-selected-items.
	(recentf-edit-list-select): Rename from recentf-edit-list-action.
	Simplify.
	(recentf-edit-list-validate): New function.
	(recentf-edit-list): Update accordingly.
	(recentf-open-files-action): Doc fix.
	(recentf-open-files-item-shift): Remove.
	(recentf-open-files-item): Convert menu elements into widgets, but
	don't create them.  Possibly use a tree-widget for sub-menus.
	(recentf-open-files): Update accordingly.
	(recentf-open-more-files): Doc fix.
	(recentf-save-list): Untabify.
	(recentf-mode): Whitespace change.

2005-06-15  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-value-create): Simplify last change.

2005-06-15  David Ponce  <david@dponce.com>

	* tree-widget.el

	eval-and-compile inlined functions so they will be available at
	run-time too.
	(tree-widget-value-create): Fix last change.

2005-06-15  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-dialog-mode): Use kill-all-local-variables and possibly
	run-mode-hooks.
	(recentf-edit-list, recentf-open-files): Don't call
	kill-all-local-variables directly.  Setup major mode before widget
	creation.

	* dir-tree.el

	(dir-tree-version): Update to 1.2.
	(dir-tree-dir-widget): Add :indent property.

	* tree-widget.el

	(tree-widget-version): Update to 2.2.
	(tree-widget-super-format-handler)
	(tree-widget-format-handler): Remove.
	(tree-widget-value-create): Handle the :indent property.

2005-06-12  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-map-tabsets): Define as a function.  Don't reverse the
	result list as the order is meaningless.
	(tabbar-empty-tabsets-store-p): New function.
	(tabbar-buffer-update-groups): Use it.
	(tabbar-buffer-list): Filter killed buffers.
	(tabbar-buffer-init): Remove.
	(tabbar-delete-tab, tabbar-mode-on-p)
	(tabbar-buffer-update-tabsets): Doc fix.

2005-06-11  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-buffer-init): New function added to `tabbar-mode-hook'.

2005-06-10  David Ponce  <david@dponce.com>

	* tabbar.el

	Doc fix in comment header.
	(tabbar-inhibit-functions, tabbar-template, tabbar-set-template)
	(tabbar-start, tabbar-view, tabbar-scroll, tabbar-current-tabset)
	(tabbar-button-label, tabbar-buffer-button-label): Doc fix.
	(tabbar-local-mode): Fix error message.

2005-06-09  David Ponce  <david@dponce.com>

	* tabbar.el

	Better updating of buffer groups.
	
	(tabbar-version): Update to 1.6.
	(tabbar-line-format): Don't check for cached value here.
	(tabbar-line): But here to avoid a function call.
	(tabbar-buffer-groups-function): Doc fix.
	(tabbar-buffer-list): Always include the current buffer.
	(tabbar-buffer-groups): Operate on current buffer.
	(tabbar-buffer-find, tabbar-buffer-group-based-on-mode)
	(tabbar-buffer-cleanup-tabsets): Remove.
	(tabbar--buffers): New variable.
	(tabbar-buffer-update-tabsets): New function.
	(tabbar-buffer-update-groups): Use them.  Improve implementation.
	(tabbar-buffer-group-mode): Make permanent-local.

2005-06-04  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-mode): Revert previous change.  Do it once, at load-time.

2005-06-03  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-exclude): Whitespace change.
	(recentf-update-menu, recentf-mode): XEmacs compatibility fixes.
	
2005-05-26  David Ponce  <david@dponce.com>

	* tabbar.el

	Fix multiple groups by buffer on major mode change.

	(tabbar-buffer-group-based-on-mode)
	(tabbar-buffer-find): New functions.
	(tabbar-buffer-groups): Use them.
	(tabbar-buffer-cleanup-tabsets): Simplify.

2005-05-25  David Ponce  <david@dponce.com>

	* tabbar.el

	Add support for highlighting during mouse-overs (new in Emacs 22).
	
	(tabbar-button-highlight, tabbar-highlight): New faces.
	(tabbar-line-button, tabbar-line-tab): Use them to respectively
	highlight a button or a tab during mouse-overs.
	(tabbar-line-buttons): Return buttons as a list of strings.
	(tabbar-truncated-p): Handle buttons as a list of strings.

2005-04-22  Kenichi Handa  <handa@m17n.org>

	* recentf.el

	(recentf-save-file-coding-system): New variable.
	(recentf-save-list): Encode the file by
	recentf-save-file-coding-system and add coding: tag.

2005-04-11  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-separator face, tabbar-button): Fix doc string.

2005-04-05  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-version): Update to 1.5.

	Maintain the special tabset of selected tabs in a separate
	variable:

	(tabbar-tabsets-tabset-name): Remove.
	(tabbar-tabsets-tabset): New variable.
	(tabbar-free-tabsets-store, tabbar-init-tabsets-store)
	(tabbar-get-tabsets-tabset): Use it.
	(tabbar-map-tabsets): Use `push'.
	(tabbar-delete-tab): Doc fix.

	Use true buffer objects as tab values:

	(tabbar-buffer-kill-buffer-hook)
	(tabbar-buffer-tabs): Don't use buffer names.
	(tabbar-buffer-update-groups): Likewise.  Don't duplicate the
	current buffer.
	(tabbar-buffer-groups): Receive a buffer object.
	(tabbar-buffer-help-on-tab): Call `buffer-name'.

	Misc.:

	(tabbar-click-on-tab): Force to update the display.
	(tabbar-buffer-mode-derived-p): New function.
	(tabbar-buffer-groups): Use it.

2005-03-23  David Ponce  <david@dponce.com>

	* recentf.el:

	Sync. with GNU Emacs devel. version.
	
	(recentf-keep): New option.
	(recentf-menu-action): Default to `find-file'.
	(recentf-keep-non-readable-files-flag)
	(recentf-keep-non-readable-files-p)
	(recentf-file-readable-p, recentf-find-file): Remove.
	(recentf-include-p): More robust.
	(recentf-keep-p): New function.
	(recentf-remove-if-non-kept): Rename from
	`recentf-remove-if-non-readable'. Use `recentf-keep-p'. All
	callers updated.
	(recentf-menu-items-for-commands): Fix help string.
	(recentf-track-closed-file): Update. Doc fix.
	(recentf-cleanup): Update. Count removed files. Doc fix.

2005-03-14  David Ponce  <david@dponce.com>

	* tabbar.el
	
	(tabbar-header-line-format):
	(tabbar-old-local-hlf): Move definition.
	(tabbar-mode-on-p): New function.
	(tabbar-local-mode): Use it. Move before `tabbar-mode' definition.
	(tabbar-mode): Use it. Turn off local mode before global mode.
	(tabbar-buffer-groups): Preserve match data.

2005-02-24  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-buffer-home-button): Swap enabled/disabled. Doc fix.

2004-11-16  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-menu-path): Fix default value for Emacs > 21.3.

2004-10-12  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-edit-list): Update the menu when the recentf list has
	been modified.

2004-10-12  Martin Renold  <martinxyz@gmx.ch>

	* swbuff.el

	(swbuff-version): Version 3.3
	(swbuff-clear-delay-ends-switching)
	(swbuff-display-original-buffer-first)
	(swbuff-recent-buffers-first): New options.
	(swbuff-start-switching, swbuff-end-switching)
	(swbuff-clear-delay-hook): New functions.
	(swbuff-show-status-window)
	(swbuff-pre-command-hook)
	(swbuff-switch-to-previous-buffer)
	(swbuff-switch-to-next-buffer): Use them.

2004-10-08  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-local-mode): Toggle the display of the tab bar locally,
	when no local header line is shown.

2004-10-07  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-default, tabbar-unselected, tabbar-selected)
	(tabbar-separator, tabbar-button): Do not use the suffix `-face'
	for face names, they have their own namespace.  All uses updated.
	(tabbar-background-color): Doc fix.
	(tabbar-home-button-enabled-image)
	(tabbar-home-button-disabled-image)
	(tabbar-scroll-left-button-enabled-image)
	(tabbar-scroll-right-button-enabled-image): Better images.
	(tabbar-scroll-left-button-disabled-image)
	(tabbar-scroll-right-button-disabled-image): Remove.
	(tabbar-scroll-left-button)
	(tabbar-scroll-right-button): Produce the disabled button image
	from the enabled one.
	(tabbar-buffer-group-mode-on-button-image)
	(tabbar-buffer-group-mode-off-button-image): Remove.
	(tabbar-buffer-home-button): Use default home button images.
	
2004-09-29  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-separator): Change default value.
	(tabbar-line-buttons): In-lined.  Move initialization of buttons
	and separator values.
	(tabbar-line-format): Here.
	(tabbar-buffer-toggle-group-mode)
	(tabbar-buffer-toggle-group-mode-help): Remove.
	(tabbar-buffer-click-on-home): New function.
	(tabbar-home-function): Use it.
	(tabbar-buffer-help-on-home): New function.
	(tabbar-home-help-function): Use it.

2004-09-26  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-home-button-enabled, tabbar-home-button-disabled)
	(tabbar-scroll-left-button-enabled)
	(tabbar-scroll-left-button-disabled)
	(tabbar-scroll-right-button-enabled)
	(tabbar-scroll-right-button-disabled): Remove.
	(tabbar-home-button-value)
	(tabbar-scroll-left-button-value)
	(tabbar-scroll-right-button-value): New variables.
	(tabbar-home-button, tabbar-scroll-left-button)
	(tabbar-scroll-right-button, tabbar-use-images)
	(tabbar-line-button, tabbar-line-buttons)
	(tabbar-buffer-home-button)
	(tabbar-buffer-set-group-mode): Use them.
	(tabbar-separator-value): Doc fix.

2004-09-23  David Ponce  <david@dponce.com>

	* tabbar.el
	
	(tabbar-line-button, tabbar-line-separator, tabbar-line-tab)
	(tabbar-line-format): When supported, use better pointer shapes.

2004-09-21  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-display-update): When supported, only force redisplay of
	the selected window.
	(tabbar-make-mouse-keymap): Rename from tabbar-make-button-keymap.
	All uses changed.
	(tabbar-home-button-keymap, tabbar-home-button-callback)
	(tabbar-home-button-help, tabbar-scroll-left-button-keymap)
	(tabbar-scroll-left-button-callback)
	(tabbar-scroll-left-button-help)
	(tabbar-scroll-right-button-keymap)
	(tabbar-scroll-right-button-callback)
	(tabbar-scroll-right-button-help): Remove.
	(tabbar-default-button-keymap): New constant.
	(tabbar-help-on-button, tabbar-click-on-button)
	(tabbar-select-button-callback)
	(tabbar-make-button-keymap): New functions.
	(tabbar-help-on-tab): Get text property at received POSITION.
	(tabbar-select-tab-callback): Use posn-string.  Get text property
	at event position.
	(tabbar-make-tab-keymap): Likewise.
	(tabbar-button-label): Intern soft the tabbar-NAME-button symbol.
	(tabbar-line-button): Doc fix.  Update to new design.
	(tabbar-line-separator, tabbar-line-tab): Doc fix.
	(tabbar-line-buttons): Add missing TABSET argument.
	(tabbar-truncated-p): New function.
	(tabbar-line-format): Use it.
	(tabbar-buffer-tab-label): Don't abbreviate label when tracking
	the selected tab.  Correctly abbreviate group labels.

2004-09-13  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-button-label-function): New option.
	(tabbar-line-button): Use it.
	(tabbar-normalize-image): Don't override existing image
	properties.
	(tabbar-home-button, tabbar-scroll-left-button)
	(tabbar-scroll-right-button, tabbar-separator): Doc fix.
	(tabbar-line-separator): Simplify.
	(tabbar-line-buttons): New function.
	(tabbar-line-format): Use it.
	(tabbar-button-label): New function.
	(tabbar-buffer-group-mode-on-button-image)
	(tabbar-buffer-group-mode-off-button-image): New constants.
	(tabbar-buffer-home-button): New option.
	(tabbar-buffer-button-label): New function.
	(tabbar-buffer-set-group-mode): New function.
	(tabbar-buffer-select-tab)
	(tabbar-buffer-toggle-group-mode): Use it.

2004-09-09  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-line-tab): Return a string instead of a list.
	(tabbar-line-format): Take into account previous change.  Don't
	concatenate tab bar buttons. 

2004-08-13  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-separator-widget): Add space width choice.
	(tabbar-line-separator): Use it.

2004-05-14  David Ponce  <david@dponce.com>

	* tree-widget.el 

	Moved back into the main directory.
	Sync. with version included in GNU Emacs.
	(tree-widget-themes-directory): Change default.  Doc fix.  Add
	new "With the library" choice.
	(tree-widget-format-handler): Fix message.

	* tree-widget-examples.el
	* dir-tree.el
	
	Moved back into the main directory.

2004-04-30  David Ponce  <david@dponce.com>

	* tree-widget/tree-widget.el

	(tree-widget-themes-directory): Reset default value to nil.

2004-04-30  David Ponce  <david@dponce.com>

	* tree-widget/tree-widget.el

	(tree-widget-themes-directory): Doc fix.  Change default value
	for backward compatibility.
	(tree-widget-themes-directory): By default, use the directory
	where is located the tree-widget library.

2004-04-30  David Ponce  <david@dponce.com>

	* tree-widget.el
	* tree-widget-examples.el
	* dir-tree.el
	
	Moved into the tree-widget directory.

	* tree-widget-themes

	Move themes folders into the tree-widget directory.

2004-04-27  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-themes-directory): Doc fix.
	(tree-widget--image-cache, tree-widget--image-properties): Remove.
	(tree-widget--theme): Don't `make-variable-buffer-local'.
	(tree-widget-theme-name): New function.
	(tree-widget-set-theme): Use new theme cache.  Doc fix.
	(tree-widget-set-image-properties): Likewise.
	(tree-widget-image-properties): Likewise.
	(tree-widget-find-image): Likewise.
	(tree-widget-themes-directory): Use new theme cache.  Fix
	compatibility with XEmacs.

2004-04-23  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-version): Update to 2.1.
	(tree-widget-themes-directory): Locate an absolute directory name,
	or one relative to a directory in `load-path', or to
	`data-directory'.

2004-04-21  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-save-list): Catch and display about errors.

	* tree-widget-themes/folder

	Updated theme.
	
2004-04-14  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-buffer-kill-buffer-hook): Check for an actually displayed
	tab bar instead of tab bar mode.

2004-03-31  David Ponce  <david@dponce.com>

	* tabbar.el

	Code cleanup and optimization.

	(tabbar-unselected-face): Doc fix.
	(tabbar-make-button-keymap, tabbar-home-button-keymap)
	(tabbar-home-button-callback, tabbar-home-button-help)
	(tabbar-scroll-left-button-keymap)
	(tabbar-scroll-left-button-callback)
	(tabbar-scroll-left-button-help)
	(tabbar-scroll-right-button-keymap)
	(tabbar-scroll-right-button-callback)
	(tabbar-scroll-right-button-help)
	(tabbar-make-mouse-event): Move.
	(tabbar-scroll-left-help, tabbar-scroll-right-help): Doc fix.
	(tabbar-select-tab-keymap): Rename to...
	(tabbar-default-tab-keymap): Use `tabbar-make-button-keymap'.
	(tabbar-make-tab-keymap): Likewise.  Doc fix.
	(tabbar-setup-button): Rename to...
	(tabbar-line-button): Receive a button name.  Callers updated.
	(tabbar-setup-separator): Rename to...
	(tabbar-line-separator): Remove argument.  Callers updated.
	(tabbar-line-tab): Rename from `tabbar-line-element'.  Callers
	updated.

2004-03-31  David Ponce  <david@dponce.com>

	More efficient design of tab callbacks.
	
	(tabbar-make-select-tab-command)
	(tabbar-make-help-on-tab-function): Remove.
	(tabbar-help-on-tab, tabbar-select-tab-callback)
	(tabbar-make-tab-keymap): New functions.
	(tabbar-select-tab-keymap): New variable.
	(tabbar-make-mouse-event): Move before first use.
	(tabbar-click-on-tab): defsubst.  Move before first use.
	(tabbar-line-element): defsubst.  Build tab keymap with
	`tabbar-make-tab-keymap'.  Set help-echo to `tabbar-help-on-tab'.

2004-03-29  David Ponce  <david@dponce.com>

	* tabbar.el

	Reorder code.
	(tabbar-home-button-enabled-image)
	(tabbar-home-button-disabled-image)
	(tabbar-scroll-left-button-enabled-image)
	(tabbar-scroll-left-button-disabled-image)
	(tabbar-scroll-right-button-enabled-image)
	(tabbar-scroll-right-button-disabled-image): Remove :ascent and
	:mask properties.
	(tabbar-separator)
	(tabbar-home-button-callback): Use "@" in interactive string to
	select the input window.
	(tabbar-scroll-left-button-callback)
	(tabbar-scroll-right-button-callback)
	(tabbar-make-select-tab-command): Likewise.
	(tabbar-use-images): New option.
	(tabbar-find-image): Use it.  Inlined.
	(tabbar-disable-image, tabbar-normalize-image): New functions.
	(tabbar-setup-button): Remove VALUE argument.  Don't call
	`custom-set-default' here.  Use above new functions.  When not
	provided, derive the disabled button image from the enabled one.
	(tabbar-setup-separator): Remove VALUE argument.  Don't call
	`custom-set-default' here.  Use `tabbar-normalize-image'.
	(tabbar-separator, tabbar-home-button)
	(tabbar-scroll-left-button)
	(tabbar-scroll-right-button): `:set' clear current value.
	(tabbar-line-format): Refresh buttons and separator when needed.
	(tabbar-buffer-kill-buffer-hook): Check the sibling buffer.

2004-03-03  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-display-update): Fix byte compilation issue.

2004-03-03  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-display-update): Remove window argument.  Update callers.
	(tabbar-click-p): New function.
	(tabbar-make-select-tab-command): Use it. Ignore non mouse clicks.
	(tabbar-scroll-left-button-callback)
	(tabbar-scroll-right-button-callback)
	(tabbar-home-button-callback): Ditto.  Don't save-selected-window.
	(tabbar-make-mouse-event): Accept a true mouse-click event.
	(tabbar-cycle): Accept an optional mouse type event argument.
	(tabbar-buffer-select-tab): switch-to-buffer by default.
	
2004-02-14  David Ponce  <david@dponce.com>

	* tabbar.el
	
	(tabbar-background-color): New function.
	(tabbar-line-format): Use it.

	* tabbar.el
	
	(tabbar-line-format): Ensure there is always a valid tab bar
	background color.

2004-01-21  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-default-face, tabbar-unselected-face)
	(tabbar-selected-face, tabbar-separator-face, tabbar-button-face):
	Use better[?] default values.

2004-01-20  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-background-color): New option.
	(tabbar-line-format): Use it.

2003-12-17  David Ponce  <david@dponce.com>

	* tabbar.el

	New "Known problems" section in comment header.

2003-12-02  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-version): Update to 1.4.

2003-11-25  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-shorten): New function.
	(tabbar-buffer-tab-label): Use it.

2003-11-24  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-display-update): New function.
	(tabbar-home-button-callback, tabbar-scroll-left-button-callback)
	(tabbar-scroll-right-button-callback)
	(tabbar-make-select-tab-command): Use it.

2003-11-24  David Ponce  <david@dponce.com>

	* tree-widget.el

	Add support for image properties by theme.  Improve portability.

	(tree-widget-create-image): Add new optional argument for image
	properties.
	(tree-widget--image-properties): New variable.
	(tree-widget-set-image-properties): New function.
	(tree-widget-find-image): Use it.  No depend of `locate-library'.

2003-11-21  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-selected-tab-always-visible): New option.
	(tabbar-select-tab): Use it.
	(tabbar-buffer-tab-label): Automatically shorten label depending
	on the tab bar width and on the number of tabs to display.
	(tabbar-buffer-help-on-tab): Give more informations.
	
2003-10-15  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-home-button-enabled-image)
	(tabbar-home-button-disabled-image)
	(tabbar-scroll-left-button-enabled-image)
	(tabbar-scroll-left-button-disabled-image)
	(tabbar-scroll-right-button-enabled-image)
	(tabbar-scroll-right-button-disabled-image): Add :mask property
	to have transparent background.

2003-10-13  David Ponce  <david@dponce.com>

	* ruler-mode.el

	(ruler-mode-left-fringe-cols): Add new optional argument REAL, to
	return a real number instead of a rounded integer value.  Define
	as inline function.
	(ruler-mode-right-fringe-cols): Likewise.
	(ruler-mode-scroll-bar-cols): New function.
	(ruler-mode-left-scroll-bar-cols): Use it.  Define as macro.
	(ruler-mode-right-scroll-bar-cols): Likewise.
	(ruler-mode-space): New function.
	(ruler-mode-ruler): Use it.  Handle variations of fringe style,
	scroll bar mode and margins in a more robust way.

2003-10-08  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-line-template): Renamed to...
	(tabbar-line-format): New function.  Cache and return the whole
	`header-line-format' used to display a tab set.
	(tabbar-line): Use it.
	(tabbar-default-inhibit-function): Inhibit display of the tab bar
	in `ispell-choices-buffer'.

2003-10-06  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-image-type-available-p): Remove.
	(tree-widget-image-formats): Return supported formats.
	(tree-widget-find-image): Try each image file extension before
	searching in default theme.

2003-10-03  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget-themes-directory): New function.
	(tree-widget-find-image): Use it.

2003-10-03  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-initialize-file-name-history): New defcustom.
	(recentf-load-list): When `recentf-initialize-file-name-history'
	is non-nil, initialize an empty `file-name-history' with the
	recent list.

	* tree-widget.el

	(tree-widget-image-conversion): Rename to...
	(tree-widget-image-formats): New.  Update all references.
	(tree-widget-find-image): Only locate images of supported type.

2003-10-01  David Ponce  <david@dponce.com>

	* tree-widget.el

	Improve the "Commentary:" section.

2003-09-30  David Ponce  <david@dponce.com>

	* tree-widget.el

	(tree-widget--image-cache): Move.  Make buffer local.
	(tree-widget--clear-images-and-set): Remove.  All callers updated.

	* dir-tree.el

	(dir-tree-expand-dir): Make more robust.
	(dir-tree): Use the "folder" theme.

2003-09-29  David Ponce  <david@dponce.com>

	* tree-widget.el

	Byte-compile cleanly.
	(tree-widget-use-image-p) [Emacs]: Use `display-images-p'.
	(tree-widget-image-type-available-p): Use in-line definition
	instead of defalias.

2003-09-29  David Ponce  <david@dponce.com>

	* tree-widget-examples.el

	(tree-widget-example-1): Can prompt for an alternate image theme
	to use.

	* tree-widget.el

	(tree-widget--theme): New internal buffer local variable.
	(tree-widget-set-theme): New function.
	(tree-widget-find-image): Use local theme.

2003-09-29  David Ponce  <david@dponce.com>

	* dir-tree.el

	Code and whitespace cleanup.
	(dir-tree-file-widget): Remove obsolete use of :format-handler.
	(dir-tree): Move point at beginning of buffer.

	* tree-widget-examples.el

	Code and whitespace cleanup.
	(tree-widget-examples-version): Update to 1.2.
	(tree-widget-example-1): Add leaf nodes.  Better node names.
	(tree-widget-example-2-dynargs): Likewise.
	(tree-widget-example-2): Likewise.

	* tree-widget.el

	Major version that introduces new tree layout based on widgets
	only, and image support on GNU Emacs 21.
	
	Code and whitespace cleanup.
	(tree-widget-version): Update to 2.0.
	(tree-widget-node-handle-widget): Remove.
	(tree-widget--image-cache): New variable.
	(tree-widget--clear-images-and-set): New function.
	(tree-widget-image-enable)
	(tree-widget-themes-directory, tree-widget-theme)
	(tree-widget-image-properties-emacs)
	(tree-widget-image-properties-xemacs): New options.
	(tree-widget-use-image-p)
	(tree-widget-image-type-available-p)
	(tree-widget-create-image)
	(tree-widget-image-conversion)
	(tree-widget-find-image): New functions.
	(tree-widget-node-handle): Remove.
	(tree-widget-control, tree-widget-open-control)
	(tree-widget-empty-control, tree-widget-close-control)
	(tree-widget-leaf-control, tree-widget-guide)
	(tree-widget-end-guide, tree-widget-no-guide)
	(tree-widget-handle, tree-widget-no-handle): New widgets.
	(tree-widget): Remove tree element strings.
	(tree-widget-p, tree-widget-get-super): Doc fix.
	(tree-widget-keep): Use dolist.
	(tree-widget-super-format-handler): New function.
	(tree-widget-format-handler): Use it.  Mark as obsolete.
	(tree-widget-node): Cleanup.
	(tree-widget-open-control, tree-widget-close-control)
	(tree-widget-empty-control, tree-widget-leaf-control)
	(tree-widget-guide, tree-widget-end-guide)
	(tree-widget-no-guide, tree-widget-handle)
	(tree-widget-no-handle): New functions.
	(tree-widget-children-value-save): Cleanup.
	(tree-widget-toggle-folding): Remove.
	(tree-widget-close-node, tree-widget-open-node): New functions.
	(tree-widget-value-delete): Cleanup.
	(tree-widget-value-create): New implementation to use only
	widgets and handle images.
	(tree-widget-map): Cleanup.

2003-09-16  David Ponce  <david@dponce.com>

	* recentf.el

	Sync. with GNU Emacs devel. version.
	
	(recentf-exclude): Accept predicates too.
	(recentf-file-readable-p): New function.
	(recentf-include-p): Handle predicates in recentf-exclude.
	(recentf-add-file): Doc fix.
	(recentf-remove-if-non-readable): Use recentf-file-readable-p.
	(recentf-cleanup): Likewise.
	
	Ensure that recentf correctly update the menu bar.
	(recentf-menu-path,recentf-menu-before): Doc fix.
	(recentf-menu-bar): New function.
	(recentf-create-menu): New function.
	(recentf-clear-data): Use recentf-menu-bar.
	(recentf-update-menu): Use above new functions and
	easy-menu-add-item instead of easy-menu-change.

2003-09-04  David Ponce  <david@dponce.com>

	* ruler-mode.el

	From Dave Love <fx@gnu.org>

	(ruler-mode-fill-column-char)
	(ruler-mode-current-column-char): Use char-displayable-p, not
	window-system.

2003-08-25  David Ponce  <david@dponce.com>

	* tabbar.el

	When a tab is selected, auto-scroll the tab bar to keep the
	selected tab in visible area.

	(tabbar-show-selected): New variable.
	(tabbar-select-tab): Set it.
	(tabbar-line-template): New function.
	(tabbar-line): Use it.

2003-08-05  David Ponce  <david@dponce.com>

	* gdiff-setup.el

	(vc-ensure-vc-buffer): Refreshed from GNU Emacs.
	(gdiff-program): No default value.
	(gdiff-program-options): New option.

	* gdiff.el

	(gdiff-execute-nowait): Remove OPTIONS argument.  Use
	`gdiff-program-options' instead.

2003-07-27  David Ponce  <david@dponce.com>

	* jmaker.el
	
	(jmaker-version): Updated to 2.4.

	(require 'tempo): Added.
	(jmaker-make-use-jde-settings): Require 'jde instead of
	'jde-compile feature.
	(jmaker-java-compiler-options): Don't override
	`jde-classpath-separator'.

2003-06-10  David Ponce  <david@dponce.com>

	* recentf.el 

	(recentf-save-list): Use `write-file' from a temporary buffer to
	save the list.  That keeps a backup copy.

	Removed 2003-06-06 changes to save positions.  The saveplace
	library already does that, and works well with recentf.
	
2003-06-06  David Ponce  <david@dponce.com>

	* recentf.el

	Add new option to restore point when opening a recent file.
	
	(recentf-positions): New variable.
	(recentf-restore-position-flag): New option.
	(recentf-get-position, recentf-save-position)
	(recentf-sync-positions, recentf-open-file): New functions.
	(recentf-make-menu-item): Use `recentf-open-file'.
	(recentf-track-closed-file): Save position in current buffer.
	(recentf-open-files-action): Use `recentf-open-file'.
	(recentf-save-list): Save positions of recently opened file.

2003-06-05  David Ponce  <david@dponce.com>

	* ruler-mode.el

	Whitespace fix.

	* tabbar.el

	(tabbar-buffer-group-mode): Make buffer local.

2003-05-27  David Ponce  <david@dponce.com>

	* ruler-mode.el

	Version 1.6

	Take into account changes made to the display margins, fringes and
	scroll-bar handling.

	(ruler-mode-margins-char): Removed.  No more used.
	(ruler-mode-pad-face, ruler-mode-fringes-face): New faces.
	(ruler-mode-margins-face): New definition.  Moved.
	(ruler-mode-left-fringe-cols)
	(ruler-mode-right-fringe-cols)
	(ruler-mode-left-scroll-bar-cols)
	(ruler-mode-right-scroll-bar-cols): Reimplemented.  Moved.
	(ruler-mode-full-window-width)
	(ruler-mode-window-col): New functions.
	(ruler-mode-mouse-set-left-margin)
	(ruler-mode-mouse-set-right-margin)
	(ruler-mode-mouse-add-tab-stop)
	(ruler-mode-mouse-del-tab-stop): Reimplemented.
	(ruler-mode-mouse-current-grab-object): Renamed to...
	(ruler-mode-dragged-symbol): New.
	(ruler-mode-mouse-grab-any-column): Use it.  Cleaned up.
	(ruler-mode-mouse-drag-any-column): Likewise.
	(ruler-mode-mouse-drag-any-column-iteration): Simplified.
	(ruler-mode-left-margin-help-echo)
	(ruler-mode-right-margin-help-echo): Removed.
	(ruler-mode-margin-help-echo)
	(ruler-mode-fringe-help-echo): New constants.
	(ruler-mode-ruler): Use them.  Reimplemented.

2003-05-22  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-version): Updated to 1.3.
	(tabbar-find-image): New function.
	(tabbar-setup-separator, tabbar-setup-button): Use it.
	(tabbar-mode): Let use tab bar mode without a mouse, using
	keyboard navigation.

2003-05-14  David Ponce  <david@dponce.com>

	* tabbar.el

	(tabbar-backward-tab): Fixed call to `tabbar-cycle'.

2003-05-04  David Ponce  <david@dponce.com>

	* jjar.el

	(jjar-get-matching-files-in-tree): Fixed regexp.

	* jmaker.el

	(jmaker-makefile-buffer-template): Fixed template value and :set
	clause.
	(jmaker-java-compiler-options): Simplified.  No more use
	`jde-quote-classpath'.  Ensure that `jde-classpath-separator' is
	a semicolon.
	(jmaker-generall-dialog): Set buffer local variables after
	buffer cleanup.

2003-05-02  David Ponce  <david@dponce.com>

	* recentf.el

	(recentf-cleanup): Swap tests for exclusion and accessibility.
	When network files are not available, even if they are excluded,
	checking for accessibility first blocks Emacs.  Thanks to Tak Ota
	<Takaaki.Ota@am.sony.com> who suggested that fix.

2003-04-30  David Ponce  <david@dponce.com>

	* tabbar.el:

	(tabbar-current-tabset): Made buffer local.
	(tabbar-home-button-callback, tabbar-scroll-left-button-callback)
	(tabbar-scroll-right-button-callback): Select the window that
	received the mouse event.

2003-04-25  David Ponce  <david@dponce.com>

	* dir-tree.el:

	New file.

	* findstr.el:
	
	Updated comments.
	(findstr-version): New constant.

	* gdiff-setup:

	Updated comments.

	* gdiff.el:

	Updated comments.
	(gdiff-version): New constant.
	(gdiff-version): Function renamed to...
	(gdiff-vc-version): New.
	(gdiff-vc-internal): Use it.

	* jjar.el:

	Updated comments.
	(jjar-version): New constant.
	(require 'cl): At compilation time.
	(jjar-overlay-lists, jjar-delete-overlay): New functions.
	(jjar-jar-command, jjar-jar-nocompress-option)
	(jjar-jar-verbose-option, jjar-load-hook)
	(jjar-build-option, jjar-base-directory, jjar-files)
	(jjar-get-matching-files-in-tree)
	(jjar-get-matching-files, jjar-make-jar-command)
	(jjar-get-jar-options, jjar-execute)
	(jjar-cancel-dialog, jjar-dialog-mode-map)
	(jjar-dialog-mode, jjar-wildcards-dialog)
	(jjar-files-dialog-toggle-selection, jjar-files-dialog)
	(jjar-create, jjar-update): Doc fix & some code cleanup.
	(jjar-customize): Removed.

	* jmaker.el:
	
	Updated comments.
	(jmaker-version): Updated to 2.3.
	(require 'cl): At compilation time.
	(jmaker-overlay-delete): Renamed to...
	(jmaker-delete-overlay): New.
	(jmaker-generall-dialog-setup-selected-aux): Use `dolist'.
	(jmaker-generall-dialog-toggle-selection): Use `push'.
	(jmaker-generall-dialog-header): Simplified.
	(jmaker-overlay-lists)
	(jmaker-generall-dialog): Code cleanup.
	
	* jsee.el:

	Updated comments.
	(jsee-version): Moved. Updated to 2.1.
	(jde-jsee-load-hook, jsee-call, jsee-delete-file)
	(jsee-get-package-name, jsee-file-class)
	(jde-jsee-javadoc, jde-jsee-javadoc-output-dir)
	(jsee-javadoc-get-output-dir)
	(jsee-javadoc-get-classpath-option)
	(jsee-javadoc-get-output-filename)
	(jsee-javadoc-delete-previous-output)
	(jsee-javadoc-browse-output, jsee-pre-generate-handler)
	(jsee-post-generate-handler, jsee-make-doc-generator-command)
	(jsee-run-doc-generator, jsee-browse-api-doc)
	(jsee-default-load-hook): Doc fix & some code cleanup.
	(jsee-customize): Removed.

	* overlay-fix.el:

	(overlay-fix-version): New constant.

	* swbuff.el:

	Updated comments.
	(swbuff-version): Moved. Updated to 3.2.
	(swbuff-status-buffer-name): Moved.
	(swbuff-load-hook, swbuff-one-window-p)
	(swbuff-show-status-window, swbuff-pre-command-hook)
	(swbuff-switch-to-previous-buffer)
	(swbuff-switch-to-next-buffer)
	(swbuff-default-load-hook): Doc fix.

	* tree-widget-example.el:

	Updated comments.
	(tree-widget-examples-version): New constant.

	* tree-widget.el:

	Updated comments.
	(tree-widget-version): New constant.
